# TrimScale

> **TrimScale** – *高品質な画像リサイズとマウス操作でのトリミング* を実現する軽量 Web アプリ。

---

## 📚 目次
1. [TrimScale とは？](#trimscale-とは)
2. [主な機能](#主な機能)
3. [インストール / クイックスタート](#インストール--クイックスタート)
4. [使い方](#使い方)
   - [アプリを開く](#アプリを開く)
   - [画像のリサイズ](#画像のリサイズ)
   - [領域のトリミング](#領域のトリミング)
   - [結果をダウンロード](#結果をダウンロード)
5. [ファイル構成](#ファイル構成)
6. [カスタマイズ & 拡張](#カスタマイズ--拡張)
7. [ライセンス](#ライセンス)

---

## TrimScale とは？

TrimScale は **クライアントサイドのみ** で動作する Web アプリです。  
以下のことができます。

| 項目 | 内容 |
|------|------|
| JPEG/PNG/GIF の読み込み | 任意の画像をローカルから選択 |
| 高品質リサイズ | `pica` ライブラリ（WebWorker で高速）を使用し、10 %〜200 % のスケール変更 |
| マウス操作によるトリミング | キャンバス上でドラッグ＆ドロップで矩形領域を選択 |
| プレビュー & ダウンロード | 変換結果を即時表示し、元形式（GIF は PNG）でダウンロード |

サーバーやアップロードは不要。すべてブラウザ内で完結します。

---

## 主な機能

| 機能 | 説明 |
|------|------|
| **高品質リサイズ** | `pica`（高速、WebWorker 対応）を使用してアンチエイリアスとシャープ化を実現。 |
| **マウスでトリミング** | キャンバス上でクリック＆ドラッグで矩形選択。選択領域はキャンセル/再設定可。 |
| **ライブプレビュー** | スケール変更やトリミング時に即座に描画。 |
| **レスポンシブ UI** | Tailwind CSS CDN でモダンなデザイン。デスクトップ・モバイル双方で動作。 |
| **ゼロ依存性** | 必要なのは `tailwindcss` と `pica` の2つの CDN スクリプトだけ。 |

---

## インストール / クイックスタート

以下のサイトで使用できます。
https://kan-taro.github.io/TrimScale/


またはローカルで使いたいとき
1. このリポジトリをクローン／ダウンロードし、任意のローカルフォルダーに置く。
2. `/size3/index.html` をブラウザで開く（Chrome/Edge/Safari/Firefox 推奨）。

> **注意**  
> ブラウザによっては `file://` からの `<input type="file">` がブロックされることがあります。  
> その場合は簡易 HTTP サーバーを立ち上げてください。

```bash
# Python3.x のみ
python -m http.server 8000
```

そして <http://localhost:8000/size3/index.html> を開くと動作します。

---

## 使い方

### アプリを開く

- `index.html` を開くと「TrimScale」のヘッダー、ファイル選択ボタン、無効化されたダウンロードボタンが表示されます。

### 画像のリサイズ

1. **Choose File**（ファイル選択）をクリックし、任意の画像を選ぶ。  
2. 読み込み後、プレビューキャンバスに元画像が表示されます。  
3. **Scale** スライダー（10 %〜200 %）を動かすと即座にリサイズ。  

### 領域のトリミング

1. キャンバス上でクリックしドラッグすると矩形選択が開始。  
2. マウスボタンを離すと選択領域が確定し、プレビューはその部分だけ表示されます。  
3. 変更したい場合は再度ドラッグするか **Reset Crop** ボタンでリセット。

> **ポイント**  
> トリミング座標は現在のキャンバスサイズに対して相対的に保持されるため、スケール後も同じ領域を選択できます。

### 結果をダウンロード

- プレビューが表示されたら **Download Resized Image** ボタンをクリック。  
  *ファイル名は `<original_name>_resized.<ext>`（GIF は PNG）で保存されます。*

---

## ファイル構成

```
size3/
├─ index.html   # UI と CDN スクリプト
└─ script.js    # 画像読み込み・リサイズ・トリミングロジック
```

- `index.html` は Tailwind CSS を使ったスタイリングと基本レイアウトを担います。  
- すべての処理は `script.js` に実装され、ビルドツールは不要です。

---

## カスタマイズ & 拡張

| 変更箇所 | 方法 |
|-----------|------|
| UI デザイン | Tailwind のクラスを直接編集。 |
| スケール範囲 | `<input type="range">` の `min`・`max`・`value` を変更。 |
| 出力形式 | `script.js` 内の `outputMime` ロジックを書き換えて PNG/JPEG 強制化など。 |
| 透かし追加 | リサイズ後にキャンバス上へ文字や画像を描画してから Blob 化。 |

お気軽に fork / pull request で拡張してください。

---

## ライセンス

MIT © 2025 TrimScale Contributors  
（詳細はリポジトリ内の LICENSE ファイルをご覧ください）